# Совместимость с модами для скинов

## Поддерживаемые моды

Этот мод полностью совместим со следующими модами для управления скинами:

- **SkinChanger** - https://github.com/edoren/SkinChanger
- **SkinRestorer** (для пиратских/оффлайн серверов)
- **Chat Heads** - https://github.com/dzwdz/chat_heads

## Как это работает

### Приоритет загрузки скинов

Мод использует трехуровневую систему загрузки скинов:

1. **PlayerInfo (высший приоритет)** - для онлайн игроков и игроков с измененными скинами через SkinChanger/SkinRestorer
2. **Прямое получение из игрока** - для игроков, находящихся в мире
3. **SkinManager API** - асинхронная загрузка для лицензионных аккаунтов

### Автоматическое обновление скинов

- Кэш скинов обновляется каждые **20 секунд** (400 тиков)
- Скины кэшируются при выходе игрока из сервера
- Поддержка Steve/Alex скинов по умолчанию на основе UUID

### Для пиратских серверов

На пиратских серверах (без Mojang авторизации):

- Скины загружаются через PlayerInfo от SkinChanger/SkinRestorer
- Используется дефолтный скин Steve/Alex, если скин не найден
- Скины автоматически обновляются при изменении через SkinChanger

### Для лицензионных серверов

На лицензионных серверах:

- Скины загружаются через стандартный Mojang API
- Кэшируются для оффлайн игроков
- Автоматически обновляются при смене скина на minecraft.net

## Установка с SkinChanger

1. Скачайте **SkinChanger** с CurseForge или GitHub
2. Поместите оба мода в папку `mods/`
3. Запустите игру - все скины будут автоматически синхронизированы

## Отладка

Если скины не отображаются:

1. Проверьте логи на наличие сообщений `Got skin for [player]`
2. Убедитесь, что SkinChanger/SkinRestorer установлен и работает
3. Подождите до 20 секунд - кэш обновляется периодически

## Технические детали

- Кэш скинов: `TabMenuInSinglePlayer.playerSkinCache`
- Интервал обновления: `SKIN_CACHE_REFRESH_INTERVAL = 400 тиков`
- Метод загрузки: `getPlayerSkin(String playerName, UUID playerUUID)`

